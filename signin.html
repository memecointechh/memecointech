<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BIGGY Login</title>
    <meta name="theme-color" content="  #740000">
    <meta name="apple-mobile-web-app-status-bar-style" content="  #740000">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="./css/forms.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;1,100;1,200&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;400;500;600&family=Protest+Guerrilla&display=swap" rel="stylesheet">

<style>


</style>
</head>
<body>
    <header class="navbar">
        <div class="container1">
            <div class="header-flex">
                <div class="logo">

                    <a href="index.html"><img src="" alt=""><img src="./images/biggy logo.png" alt=""></a>
                </div>
                <nav class="nav-menu">
                    <ul>
                        
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#news">Crypto News</a></li>
                        <li><a href="#partners">Partners</a></li>
                        <li><a href="#contact">Contact</a></li>
                        <button class="signup-btn">Sign Up</button>
                    </ul>
                </nav>
            </div>
            
            
    
            <!-- Hamburger Menu Button for Mobile -->
            
           
    
            <!-- Mobile Menu -->
            <div class="mobile-menu" id="mobile-menu">
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#news">Crypto News</a></li>
                    <li><a href="#partners">Partners</a></li>
                    <li><a href="#contact">Contact</a></li>
                </ul>
            </div>
        </div>
    </header>
    <div class="hamburger" id="hamburger">
        <span></span>
        <span></span>
        <span></span>
    </div>

<!-- 
    <section id="home" class="hero-section">
        <div class="hero-content container">
            
        </div>
    </section> -->

    <div class="hero-section">
      <video autoplay muted loop playsinline poster="https://img.freepik.com/free-photo/3d-rendering-financial-neon-bull_23-2151691935.jpg?uid=R55814283&ga=GA1.1.1328920485.1725346503&semt=ais_hybrid">
          <source src="https://videocdn.cdnpk.net/videos/78338d9e-5a65-4c59-b08b-73fba44d4960/horizontal/previews/clear/large.mp4?token=exp=1726674695~hmac=dd48359a15ff4cd7aa78020d5223c64eceae59b96e9ef6ed274d2db808634d40" type="video/mp4">
          Your browser does not support the video tag.
      </video>

      <div class="hero-content">
        <div class="login-container">
          <div class="login-header">Login</div>
          <form id="loginForm" class="login-form">
            <input type="email" id="email" placeholder="Email">
            <input type="password" id="password" placeholder="password">
              <div class="forgot-password">
                  <a href="#">Forgot Password?</a>
              </div>
              <div id="error-message" style="color: red; margin-top: 1rem;"></div>
              <button type="submit">Login</button>
          </form><br>
          <div class="signup">
              Don't have an account? <a href="signup.html">Sign up</a>
          </div>
      </div>
      </div>
  </div>



    <section id="market-cap" class="market-section" >
        <h2>Real-Time Crypto Market</h2>
        <div class="tradingview-widget-container">
            <div class="tradingview-widget-container__widget" style="height:calc(100% - 100px);width:100%"></div>
            <div class="tradingview-widget-copyright">
                <a href="https://www.tradingview.com/" rel="noopener nofollow" target="_blank">
                    <span class="blue-text">Track all markets on TradingView</span>
                </a>
            </div>
            
        </div>

        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
            {
                "width": "100%",
                "height": "500",
                "autosize": true,
                "symbol": "BINANCE:BTCUSDT",
                "interval": "60",
                "timezone": "America/New_York",
                "theme": "light",
                "style": "1",
                "locale": "en",
                "withdateranges": true,
                "allow_symbol_change": true,
                "calendar": false,
                "studies": [
                    "STD;24h%Volume"
                ],
                "support_host": "https://www.tradingview.com"
            }
            </script>
    </section>




    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="layer1">
                    
                  <hr style="border-color: rgb(151, 148, 193);">
                
                  <div class="layer2">
                   
                    <div class="images">
                      <div class="images1">
                        <img src="https://zenchainfinance.com/images/pay1.png" alt="">
                        <img src="https://zenchainfinance.com/images/pay7.png" alt="">
                        <img src="https://zenchainfinance.com/images/pay10.png" alt="">
                        <img src="https://zenchainfinance.com/images/pay4.png" alt="">
                      </div>
                      <div class="images1">
                        <img src="https://zenchainfinance.com/images/pay3.png" alt="">
                        <img src="https://zenchainfinance.com/images/pay6.png" alt="">
                        <img src="https://zenchainfinance.com/images/pay9.png" alt="">
                        <img src="https://zenchainfinance.com/images/pay12.png" alt="">
                      </div>
                      <div class="images1">
                        <img src="https://zenchainfinance.com/images/pay2.png" alt="">
                        <img src="https://zenchainfinance.com/images/pay5.png" alt="">
                        <img src="https://zenchainfinance.com/images/pay8.png" alt="">
                        <img src="https://zenchainfinance.com/images/pay11.png" alt="">
                      </div>
                    </div>
                  </div>   
                </div>
                <p>&copy; 2024 CryptoInvest. All rights reserved.</p>
                <ul class="social-links">
                    <li><a href="#"><img src="https://freepnglogo.com/images/all_img/facebook-circle-logo-png.png" alt="Facebook"></a></li>
                    <li><a href="#"><img src="https://banner2.cleanpng.com/20240119/sut/transparent-x-logo-logo-brand-identity-company-organization-black-background-white-x-logo-for-1710916376217.webp" alt="X"></a></li>
                    <li><a href="#"><img src="https://images.rawpixel.com/image_png_800/czNmcy1wcml2YXRlL3Jhd3BpeGVsX2ltYWdlcy93ZWJzaXRlX2NvbnRlbnQvbHIvdjk4Mi1kMy0xMC5wbmc.png" alt="LinkedIn"></a></li>
                </ul>
            </div>
        </div>
    </footer>
    

    <script>
         window.addEventListener('DOMContentLoaded', () => {
            document.querySelector('.login-container').classList.add('visible');
        });

// Assuming you are using Fetch API to send the login request
document.getElementById('loginForm').addEventListener('submit', function(event) {
  event.preventDefault();

  const email = document.getElementById('email').value;
  const password = document.getElementById('password').value;

  // Input validation
  if (!email || !password) {
    alert('Email and password are required');
    return;
  }

  if (!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[^\s@]+$/.test(email)) {
    alert('Invalid email address');
    return;
  }

  fetch('/api/auth/login', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ email, password })
  })
  .then(response => {
    // Check if the response is a redirect
    if (response.redirected) {
      // Redirect to the appropriate page
      window.location.href = response.url;
      return; // Exit the function to avoid further processing
    }
    return response.json(); // Otherwise, parse as JSON
  })
  .then(data => {
    if (data) { // If there's data after JSON parsing
      if (data.message === 'Login successful') {
        // Store the username in local storage
        localStorage.setItem('username', data.username);
        window.location.href = '/dashboard.html'; // Redirect to user dashboard
      } else if (data.error) {
        alert(data.error); // Show error message
      }
    }
  })
  .catch(error => console.error('Error:', error));
});
    </script>
</body>
